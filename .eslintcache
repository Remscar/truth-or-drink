[{"E:\\truthordrink\\tod-react\\src\\index.tsx":"1","E:\\truthordrink\\tod-react\\src\\App.tsx":"2","E:\\truthordrink\\tod-react\\src\\GlobalProviders.tsx":"3","E:\\truthordrink\\tod-react\\src\\AppRouter.tsx":"4","E:\\truthordrink\\tod-react\\src\\hooks\\useGameState.tsx":"5","E:\\truthordrink\\tod-react\\src\\pages\\JoinGame.tsx":"6","E:\\truthordrink\\tod-react\\src\\pages\\NewGame.tsx":"7","E:\\truthordrink\\tod-react\\src\\pages\\GameRoom.tsx":"8","E:\\truthordrink\\tod-react\\src\\hooks\\useSocket.tsx":"9","E:\\truthordrink\\tod-react\\src\\hooks\\useGameStateHelpers.tsx":"10","E:\\truthordrink\\tod-react\\src\\pages\\index.ts":"11","E:\\truthordrink\\tod-react\\src\\util\\index.ts":"12","E:\\truthordrink\\tod-react\\src\\components\\useDataPlayerInput.tsx":"13","E:\\truthordrink\\tod-react\\src\\components\\button.tsx":"14","E:\\truthordrink\\tod-react\\src\\components\\useGameCodeInput.tsx":"15","E:\\truthordrink\\tod-react\\src\\pages\\Home.tsx":"16","E:\\truthordrink\\tod-react\\src\\util\\helpers.ts":"17","E:\\truthordrink\\tod-react\\src\\components\\game\\index.ts":"18","E:\\truthordrink\\tod-react\\src\\util\\types.ts":"19","E:\\truthordrink\\tod-react\\src\\util\\logger.ts":"20","E:\\truthordrink\\tod-react\\src\\shared\\index.ts":"21","E:\\truthordrink\\tod-react\\src\\components\\game\\main.tsx":"22","E:\\truthordrink\\tod-react\\src\\components\\game\\round.tsx":"23","E:\\truthordrink\\tod-react\\src\\components\\game\\lobby.tsx":"24","E:\\truthordrink\\tod-react\\src\\hooks\\useLeaveGame.tsx":"25","E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\index.tsx":"26","E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\scores.tsx":"27","E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\askerChoosing.tsx":"28","E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\chooseWinner.tsx":"29","E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\dealerChoosing.tsx":"30","E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\askingQuestions.tsx":"31","E:\\truthordrink\\tod-react\\src\\components\\usePlayerList.tsx":"32","E:\\truthordrink\\tod-react\\src\\pages\\HowToPlay.tsx":"33","E:\\truthordrink\\tod-react\\src\\hooks\\useDuoGameState.tsx":"34","E:\\truthordrink\\tod-react\\src\\pages\\DuoGameRoom.tsx":"35","E:\\truthordrink\\tod-react\\src\\components\\game\\duo\\duoMain.tsx":"36","E:\\truthordrink\\tod-react\\src\\components\\game\\duo\\duoRound.tsx":"37","E:\\truthordrink\\tod-react\\src\\components\\game\\duo\\duoLobby.tsx":"38"},{"size":154,"mtime":1609462997507,"results":"39","hashOfConfig":"40"},{"size":769,"mtime":1609579750363,"results":"41","hashOfConfig":"40"},{"size":257,"mtime":1609150886587,"results":"42","hashOfConfig":"40"},{"size":1519,"mtime":1609909662589,"results":"43","hashOfConfig":"40"},{"size":6593,"mtime":1609464548867,"results":"44","hashOfConfig":"40"},{"size":2778,"mtime":1609579241945,"results":"45","hashOfConfig":"40"},{"size":4824,"mtime":1609908330974,"results":"46","hashOfConfig":"40"},{"size":449,"mtime":1609466279756,"results":"47","hashOfConfig":"40"},{"size":421,"mtime":1609225265763,"results":"48","hashOfConfig":"40"},{"size":1277,"mtime":1609464653911,"results":"49","hashOfConfig":"40"},{"size":25,"mtime":1609138571442,"results":"50","hashOfConfig":"40"},{"size":79,"mtime":1609293355855,"results":"51","hashOfConfig":"40"},{"size":1739,"mtime":1609329947960,"results":"52","hashOfConfig":"40"},{"size":2864,"mtime":1609575692266,"results":"53","hashOfConfig":"40"},{"size":1635,"mtime":1609329944257,"results":"54","hashOfConfig":"40"},{"size":1619,"mtime":1609577704473,"results":"55","hashOfConfig":"40"},{"size":146,"mtime":1609293408084,"results":"56","hashOfConfig":"40"},{"size":25,"mtime":1609222582149,"results":"57","hashOfConfig":"40"},{"size":208,"mtime":1609212950372,"results":"58","hashOfConfig":"40"},{"size":176,"mtime":1609149661556,"results":"59","hashOfConfig":"40"},{"size":2753,"mtime":1609914097477,"results":"60","hashOfConfig":"40"},{"size":560,"mtime":1609909445281,"results":"61","hashOfConfig":"40"},{"size":2246,"mtime":1609466072355,"results":"62","hashOfConfig":"40"},{"size":2800,"mtime":1609575421730,"results":"63","hashOfConfig":"40"},{"size":463,"mtime":1609297333774,"results":"64","hashOfConfig":"40"},{"size":163,"mtime":1609312238527,"results":"65","hashOfConfig":"40"},{"size":3217,"mtime":1609570655195,"results":"66","hashOfConfig":"40"},{"size":4400,"mtime":1609464915077,"results":"67","hashOfConfig":"40"},{"size":10589,"mtime":1609907241967,"results":"68","hashOfConfig":"40"},{"size":4286,"mtime":1609328027563,"results":"69","hashOfConfig":"40"},{"size":5574,"mtime":1609576523502,"results":"70","hashOfConfig":"40"},{"size":4760,"mtime":1609327734932,"results":"71","hashOfConfig":"40"},{"size":2340,"mtime":1609579920550,"results":"72","hashOfConfig":"40"},{"size":5743,"mtime":1609909084629,"results":"73","hashOfConfig":"40"},{"size":470,"mtime":1609912162231,"results":"74","hashOfConfig":"40"},{"size":593,"mtime":1609912109700,"results":"75","hashOfConfig":"40"},{"size":2004,"mtime":1609913437811,"results":"76","hashOfConfig":"40"},{"size":2844,"mtime":1609910315181,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"1vozhqq",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"80"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"80"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"80"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"80"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"80"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"80"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"80"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\truthordrink\\tod-react\\src\\index.tsx",[],["162","163"],"E:\\truthordrink\\tod-react\\src\\App.tsx",[],"E:\\truthordrink\\tod-react\\src\\GlobalProviders.tsx",[],"E:\\truthordrink\\tod-react\\src\\AppRouter.tsx",[],"E:\\truthordrink\\tod-react\\src\\hooks\\useGameState.tsx",["164"],"import React from \"react\";\r\nimport { CouldError, getLogger, Maybe } from \"../util\";\r\n\r\nimport {\r\n  ChoseQuestionDto,\r\n  CompleteGameStateDto,\r\n  CreatedDto,\r\n  CreateDto,\r\n  JoinDto,\r\n  JoinedDto,\r\n  LeaveGameDto,\r\n  PlayerAnsweredDto,\r\n  PlayerAnswerLikedDto,\r\n  PlayerChoseWinnerDto,\r\n  PlayerInfo,\r\n  PlayerStartNextRound,\r\n  SelectedPlayersDto,\r\n  ToDGameState,\r\n} from \"../shared\";\r\nimport { useSocket } from \"./useSocket\";\r\n\r\nexport * from \"./useGameStateHelpers\";\r\n\r\nconst logger = getLogger(\"hooks:useGameState\");\r\n\r\nexport interface GameState extends ToDGameState {\r\n  isOwner: boolean;\r\n}\r\n\r\nexport interface GameStateContext {\r\n  currentGame: Maybe<GameState>;\r\n  playerInfo: Maybe<PlayerInfo>;\r\n  createGame: (player: PlayerInfo, decks: string[]) => Promise<string>;\r\n  joinGame: (\r\n    player: PlayerInfo,\r\n    gameCode: string\r\n  ) => Promise<CouldError<boolean>>;\r\n  leaveGame: () => Promise<void>;\r\n  startGame: () => void;\r\n  choosePlayers: (players: PlayerInfo[]) => Promise<void>;\r\n  choseQuestion: (index: number) => Promise<void>;\r\n  playerAnsweredQuestion: (didAnswer: boolean, player: PlayerInfo) => Promise<void>;\r\n  choseWinner: (winner: PlayerInfo) => Promise<void>;\r\n  startNewRound: () => Promise<void>;\r\n  likeAnswer: (player: PlayerInfo) => Promise<void>;\r\n}\r\n\r\nconst gameStateContext = React.createContext<Maybe<GameStateContext>>(null);\r\n\r\nexport const useGameState = () => {\r\n  const context = React.useContext(gameStateContext);\r\n  if (!context) {\r\n    throw Error(\"Game State Not ready\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const useCurrentGameState = () => {\r\n  const context = React.useContext(gameStateContext);\r\n  if (!context || !context.currentGame) {\r\n    throw Error(\"Game Session Not ready\");\r\n  }\r\n  return context.currentGame;\r\n};\r\n\r\nexport const useRawGameState = () => {\r\n  const context = React.useContext(gameStateContext);\r\n  return context;\r\n};\r\n\r\nexport const GameStateContextProvider: React.FC = (props) => {\r\n  const gameSocket = useSocket();\r\n  const [currentGameState, setCurrentGameState] = React.useState<Maybe<GameState>>(null);\r\n  const [playerInfo, setPlayerInfo] = React.useState<Maybe<PlayerInfo>>(null);\r\n\r\n  const updateGameState = (data: ToDGameState) => {\r\n    setCurrentGameState({\r\n      ...data,\r\n      isOwner: data.owner === gameSocket.id,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    gameSocket.on(\"connect\", () => {\r\n      logger.debug(\"client connected\");\r\n    });\r\n  \r\n    gameSocket.on(\"completeGameState\", (data: CompleteGameStateDto) => {\r\n  \r\n      logger.log(`Received full state for ${data.gameCode}`);\r\n      logger.debug(data);\r\n  \r\n      if (currentGameState && data.gameCode !== currentGameState.gameCode) {\r\n        logger.warn(\r\n          `Received a game state for a game we aren't in? ${currentGameState.gameCode} vs received ${data.gameCode}`\r\n        );\r\n      }\r\n  \r\n      updateGameState(data);\r\n    });\r\n  }, [])\r\n\r\n  \r\n\r\n  const getSocket = async () => {\r\n    return gameSocket;\r\n  };\r\n\r\n  const joinGame = async (player: PlayerInfo, gameCode: string) => {\r\n    const socket = await getSocket();\r\n    const dto: JoinDto = {\r\n      player,\r\n      gameCode,\r\n    };\r\n\r\n    socket.emit(\"join\", dto);\r\n\r\n    return new Promise<CouldError<boolean>>((resolve) => {\r\n      socket.once(\"joined\", (data: JoinedDto) => {\r\n        logger.log(\r\n          `Was ${data.success ? null : \"not\"} successful joining ${gameCode}`\r\n        );\r\n\r\n        if (data.success && data.state) {\r\n          setPlayerInfo(player);\r\n          updateGameState(data.state);\r\n        }\r\n\r\n        resolve({\r\n          value: data.success,\r\n          error: data.error,\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  const createGame = async (player: PlayerInfo, decks: string[]) => {\r\n    logger.log(`Creating game for ${player.name}`);\r\n\r\n    const socket = await getSocket();\r\n    const dto: CreateDto = {\r\n      creator: player,\r\n      decks\r\n    };\r\n    socket.emit(\"create\", dto);\r\n\r\n    return new Promise<string>((resolve) => {\r\n      socket.once(\"created\", (data: CreatedDto) => {\r\n        logger.log(`Server created our game with code: ${data.gameCode}`);\r\n        setPlayerInfo(player);\r\n        updateGameState(data);\r\n\r\n        resolve(data.gameCode);\r\n      });\r\n    });\r\n  };\r\n\r\n  const leaveGame = async () => {\r\n    if (!currentGameState || !playerInfo) {\r\n      return;\r\n    }\r\n    \r\n    const socket = await getSocket();\r\n    socket.emit('leaveGame', {} as LeaveGameDto);\r\n\r\n    setPlayerInfo(null);\r\n    setCurrentGameState(null);\r\n  }\r\n\r\n  const startGame = async () => {\r\n    if (!currentGameState || !playerInfo) {\r\n      return;\r\n    }\r\n\r\n    const socket = await getSocket();\r\n    socket.emit('startGame');\r\n  }\r\n\r\n  const choosePlayers = async (players: PlayerInfo[]) => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: SelectedPlayersDto = {\r\n      players\r\n    }\r\n    socket.emit('selectedPlayers', dto);\r\n  }\r\n\r\n  const choseQuestion = async (index: number) => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: ChoseQuestionDto = {\r\n      index\r\n    }\r\n    socket.emit('choseQuestion', dto);\r\n  }\r\n\r\n  const playerAnsweredQuestion = async (didAnswer: boolean, player: PlayerInfo) => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: PlayerAnsweredDto = {\r\n      didAnswer,\r\n      player\r\n    }\r\n    socket.emit(\"playerAnswered\", dto);\r\n  }\r\n\r\n  const choseWinner = async (winner: PlayerInfo) => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: PlayerChoseWinnerDto = {\r\n      winner\r\n    }\r\n    socket.emit('playerChoseWinner', dto);\r\n  }\r\n\r\n  const startNewRound = async () => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: PlayerStartNextRound = {\r\n    }\r\n    socket.emit('playerStartNextRound', dto);\r\n  }\r\n\r\n  const likeAnswer = async (player: PlayerInfo) => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: PlayerAnswerLikedDto = {\r\n      player\r\n    }\r\n    socket.emit('playerAnswerLiked', dto);\r\n  }\r\n\r\n  \r\n  const memoValue = React.useMemo(\r\n    () => ({\r\n      currentGame: currentGameState,\r\n      playerInfo: playerInfo,\r\n      joinGame,\r\n      createGame,\r\n      leaveGame,\r\n      startGame,\r\n      choosePlayers,\r\n      choseQuestion,\r\n      playerAnsweredQuestion,\r\n      choseWinner,\r\n      startNewRound,\r\n      likeAnswer\r\n    }),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [currentGameState]\r\n  );\r\n\r\n  let contextValue: Maybe<GameStateContext> = memoValue;\r\n\r\n\r\n  return (\r\n    <gameStateContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </gameStateContext.Provider>\r\n  );\r\n};\r\n","E:\\truthordrink\\tod-react\\src\\pages\\JoinGame.tsx",["165"],"import { Grid, Typography } from \"@material-ui/core\";\r\nimport * as React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { StyledButton } from \"../components/button\";\r\nimport { useDataPlayerInput } from \"../components/useDataPlayerInput\";\r\nimport { useGameCodeInput } from \"../components/useGameCodeInput\";\r\nimport { useGameState } from \"../hooks/useGameState\";\r\nimport { getLogger } from \"../util\";\r\n\r\ninterface Props {}\r\n\r\nconst logger = getLogger(\"pages::JoinGame\");\r\n\r\nexport const JoinGame: React.FC<Props> = (props: Props) => {\r\n  const playerDataInput = useDataPlayerInput();\r\n  const gameCodeInput = useGameCodeInput();\r\n  const gameState = useGameState();\r\n\r\n  const [joinButtonEnabled, setJoinButtonEnabled] = React.useState(false);\r\n  const [joiningGame, setJoiningGame] = React.useState(false);\r\n  const [joinError, setJoinError] = React.useState(false);\r\n  const [joinErrorMessage, setJoinErrorMessage] = React.useState(\"\");\r\n  const [sendToGameRoom, setSendToGameRoom] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setJoinButtonEnabled(playerDataInput.isValid && gameCodeInput.code.length > 0);\r\n  }, [playerDataInput]);\r\n\r\n  const onJoinGame = async () => {\r\n    logger.log(\r\n      `Player ${playerDataInput.name} wants to join game ${gameCodeInput.code}`\r\n    );\r\n\r\n    setJoiningGame(true);\r\n    const res = await gameState.joinGame(\r\n      playerDataInput.playerInfo,\r\n      gameCodeInput.code\r\n    );\r\n    setJoiningGame(false);\r\n\r\n    logger.log(res);\r\n\r\n    if (res.error) {\r\n      setJoinError(true);\r\n      setJoinErrorMessage(res.error);\r\n    } else {\r\n      setSendToGameRoom(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {sendToGameRoom ? <Redirect to={\"/game\"} /> : null}\r\n      <Grid container direction=\"column\" spacing={2}>\r\n        <Grid item>\r\n          <Typography variant=\"h3\">Join Game</Typography>\r\n        </Grid>\r\n        <Grid item>{playerDataInput.component}</Grid>\r\n        <Grid item>{gameCodeInput.component}</Grid>\r\n\r\n        <Grid item>\r\n          <StyledButton\r\n            disabled={!joinButtonEnabled || joiningGame}\r\n            color=\"blue\"\r\n            fullWidth\r\n            onClick={onJoinGame}\r\n          >\r\n            Join Game\r\n          </StyledButton>\r\n        </Grid>\r\n        {joiningGame ? (\r\n          <Grid item>\r\n            <Typography>Joining Game...</Typography>\r\n          </Grid>\r\n        ) : null}\r\n        {joinError ? (\r\n          <Grid item>\r\n            <Typography>{`Error Joining Game: ${joinErrorMessage}`}</Typography>\r\n          </Grid>\r\n        ) : null}\r\n\r\n        <Grid item>\r\n          <StyledButton fullWidth href=\"/\" color=\"gray\">\r\n            Back\r\n          </StyledButton>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","E:\\truthordrink\\tod-react\\src\\pages\\NewGame.tsx",[],"E:\\truthordrink\\tod-react\\src\\pages\\GameRoom.tsx",[],"E:\\truthordrink\\tod-react\\src\\hooks\\useSocket.tsx",["166"],"import React from \"react\";\r\n\r\nimport openSocket from \"socket.io-client\";\r\n\r\nexport const useSocket = () => {\r\n  const host = window.location.origin;\r\n  const socket = React.useMemo(() => {\r\n    const gameSocket = openSocket(host, { path: \"/socket\" });\r\n\r\n    gameSocket.on(\"error\", (e) => {\r\n      console.log(\"socket error\");\r\n      console.log(e);\r\n    });\r\n\r\n    return gameSocket;\r\n  }, []);\r\n\r\n  return socket;\r\n};\r\n","E:\\truthordrink\\tod-react\\src\\hooks\\useGameStateHelpers.tsx",[],"E:\\truthordrink\\tod-react\\src\\pages\\index.ts",[],"E:\\truthordrink\\tod-react\\src\\util\\index.ts",[],"E:\\truthordrink\\tod-react\\src\\components\\useDataPlayerInput.tsx",["167"],"import { Grid, TextField } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { PlayerInfo } from \"../shared\";\r\n\r\nexport interface PlayerInput {\r\n  isValid: boolean;\r\n  component: React.ReactFragment;\r\n  name: string;\r\n  playerInfo: PlayerInfo;\r\n}\r\n\r\nconst maxNameLength = 32;\r\n\r\nexport const useDataPlayerInput = (): PlayerInput => {\r\n  const [nameError, setNameError] = React.useState(false);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [nameHelperText, setNameHelperText] = React.useState(\"\");\r\n\r\n  const onNameChanged = (\r\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    const newValue = event.target.value;\r\n\r\n    if (newValue.length > maxNameLength) {\r\n      setNameError(true);\r\n      setNameHelperText(`Must be less than ${maxNameLength} letters long.`);\r\n    } else {\r\n      setNameError(false);\r\n      setNameHelperText(``);\r\n    }\r\n    setName(newValue);\r\n  };\r\n\r\n  const playerInputComponent = (\r\n    <React.Fragment>\r\n      <Grid container direction=\"column\" alignItems=\"stretch\" justify=\"center\">\r\n        <Grid item>\r\n          <TextField\r\n            value={name}\r\n            label=\"Your Name\"\r\n            id=\"playername\"\r\n            error={nameError}\r\n            onChange={onNameChanged}\r\n            helperText={nameHelperText}\r\n            fullWidth\r\n            autoComplete={'off'}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n\r\n  const dataMemo = React.useMemo(() => {\r\n    return {\r\n      isValid: !nameError && name.length > 0,\r\n      component: playerInputComponent,\r\n      name,\r\n      playerInfo: {\r\n        name\r\n      } as PlayerInfo\r\n    }\r\n  }, [nameError, name, playerInputComponent]);\r\n\r\n  return dataMemo;\r\n};\r\n","E:\\truthordrink\\tod-react\\src\\components\\button.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\useGameCodeInput.tsx",["168"],"import { Grid, TextField } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport interface GameCodeInput {\r\n  isValid: boolean;\r\n  component: React.ReactFragment;\r\n  code: string;\r\n}\r\n\r\nconst maxCodeLength = 8;\r\n\r\nexport const useGameCodeInput = (): GameCodeInput => {\r\n  const [codeError, setCodeError] = React.useState(false);\r\n  const [code, setCode] = React.useState(\"\");\r\n  const [codeHelperText, setCodeHelperText] = React.useState(\"\");\r\n\r\n  const onCodeChanged = (\r\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\r\n  ) => {\r\n    const newValue = event.target.value.toUpperCase();\r\n\r\n    if (newValue.length > maxCodeLength) {\r\n      setCodeError(true);\r\n      setCodeHelperText(`Must be less than ${maxCodeLength} characters long.`);\r\n    } else {\r\n      setCodeError(false);\r\n      setCodeHelperText(``);\r\n    }\r\n    setCode(newValue);\r\n  };\r\n\r\n  const gameCodeInputComponent = (\r\n    <React.Fragment>\r\n      <Grid container direction=\"column\" alignItems=\"stretch\" justify=\"center\">\r\n        <Grid item>\r\n          <TextField\r\n            value={code}\r\n            label=\"Game Code\"\r\n            id=\"gamecode\"\r\n            error={codeError}\r\n            onChange={onCodeChanged}\r\n            helperText={codeHelperText}\r\n            fullWidth\r\n            autoComplete={'off'}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n\r\n  const dataMemo = React.useMemo(() => {\r\n    return {\r\n      isValid: !codeError && code.length > 0,\r\n      component: gameCodeInputComponent,\r\n      code,\r\n    }\r\n  }, [codeError, code, gameCodeInputComponent]);\r\n\r\n  return dataMemo;\r\n};\r\n","E:\\truthordrink\\tod-react\\src\\pages\\Home.tsx",[],"E:\\truthordrink\\tod-react\\src\\util\\helpers.ts",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\index.ts",[],"E:\\truthordrink\\tod-react\\src\\util\\types.ts",[],"E:\\truthordrink\\tod-react\\src\\util\\logger.ts",[],"E:\\truthordrink\\tod-react\\src\\shared\\index.ts",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\main.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\round.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\lobby.tsx",[],"E:\\truthordrink\\tod-react\\src\\hooks\\useLeaveGame.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\index.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\scores.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\askerChoosing.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\chooseWinner.tsx",["169"],"import React from \"react\";\r\nimport { useCurrentGameState, useGameState } from \"../../../hooks/useGameState\";\r\nimport { PlayerInfo } from \"../../../shared\";\r\nimport { Maybe } from \"../../../util\";\r\nimport { Grid, makeStyles, Typography } from \"@material-ui/core\";\r\nimport { StyledButton } from \"../../button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    paddingBottom: \"32px\",\r\n  },\r\n  choiceButton: {\r\n    paddingTop: \"32px\",\r\n  },\r\n}));\r\n\r\nexport const ChooseWinner: React.FC = (props) => {\r\n  const classes = useStyles();\r\n  const gameState = useGameState();\r\n  const currentGame = useCurrentGameState();\r\n  const localPlayer = gameState.playerInfo;\r\n  const round = currentGame.currentRound;\r\n  const involvedPlayers = currentGame.currentRound?.players;\r\n  const dealer = currentGame.dealer;\r\n  const alreadyLikedList = currentGame.currentRound?.likedAnswers;\r\n\r\n  const [hasLikedPlayers, setHasLikedPlayers] = React.useState<number[]>([]);\r\n  const [timeLeft, setTimeLeft] = React.useState<number>(15);\r\n  const [hasVotedForWinner, setHasVotedForWinner] = React.useState(false);\r\n\r\n  const [intervalId, setIntervalId] = React.useState<any>(undefined);\r\n  const [timerSet, setTimerSet] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (intervalId) {\r\n      clearInterval(intervalId);\r\n    }\r\n\r\n    let isSubscribed = true;\r\n\r\n    const interval = setInterval(() => {\r\n      const now = Date.now();\r\n      const timeLeft = Math.max(\r\n        Math.ceil((currentGame.timerEnd - now) / 1000),\r\n        0\r\n      );\r\n\r\n      if (!isSubscribed) {\r\n        return;\r\n      }\r\n\r\n      if (timeLeft > 0) {\r\n        setTimerSet(true);\r\n      }\r\n      setTimeLeft(timeLeft);\r\n    }, 500);\r\n\r\n    setIntervalId(interval);\r\n\r\n    return () => {\r\n      isSubscribed = false;\r\n      if (intervalId) {\r\n        clearInterval(intervalId);\r\n      }\r\n    }\r\n  }, [currentGame.timerEnd]);\r\n\r\n  if (!currentGame || !localPlayer || !round || !involvedPlayers || !dealer) {\r\n    return <div>Broken choose winner</div>;\r\n  }\r\n\r\n  let playersWeHaveLiked: string[] | undefined;\r\n  if (alreadyLikedList) {\r\n    playersWeHaveLiked = alreadyLikedList[localPlayer.name];\r\n  }\r\n\r\n  const choseWinner = async (winner: PlayerInfo) => {\r\n    setHasVotedForWinner(true);\r\n    await gameState.choseWinner(winner);\r\n  };\r\n\r\n  const likePlayerAnswer = async (player: PlayerInfo, index: number) => {\r\n    const newLikes = Object.assign([], hasLikedPlayers);\r\n    newLikes.push(index);\r\n    setHasLikedPlayers(newLikes);\r\n\r\n    await gameState.likeAnswer(player);\r\n  };\r\n\r\n  let displayComponent: Maybe<React.ReactNode> = null;\r\n\r\n  if (dealer.name === localPlayer.name) {\r\n    if (currentGame.someoneSkipped) {\r\n      displayComponent = (\r\n        <React.Fragment>\r\n          <Grid container direction=\"column\">\r\n            <Typography variant=\"h3\" align=\"center\" className={classes.title}>\r\n              Winner\r\n            </Typography>\r\n            <Typography align=\"center\">\r\n              {`You can award points to answers you liked`}\r\n            </Typography>\r\n            <Grid item container direction=\"column\">\r\n              {involvedPlayers.map((player: PlayerInfo, index: number) => {\r\n                const color = index ? \"blue\" : \"red\";\r\n                const hasLiked =\r\n                  hasLikedPlayers.findIndex((e) => e === index) > -1 ||\r\n                  (playersWeHaveLiked &&\r\n                    playersWeHaveLiked.findIndex((e) => e === player.name) >\r\n                      -1);\r\n                let buttonText = `👍 ${player.name}'s answer`;\r\n                if (hasLiked) {\r\n                  buttonText = `You already liked ${player.name}'s answer`;\r\n                }\r\n                if (player.name === localPlayer.name) {\r\n                  return null;\r\n                }\r\n                return (\r\n                  <Grid className={classes.choiceButton} item key={index}>\r\n                    <StyledButton\r\n                      color={color}\r\n                      fullWidth\r\n                      disabled={hasLiked}\r\n                      onClick={() => likePlayerAnswer(player, index)}\r\n                    >\r\n                      {buttonText}\r\n                    </StyledButton>\r\n                  </Grid>\r\n                );\r\n              })}\r\n            </Grid>\r\n            {currentGame.winnerChosen && timerSet ? (\r\n              <React.Fragment>\r\n                <Typography style={{ paddingTop: \"32px\" }} align=\"center\">\r\n                  {`Next Round in`}\r\n                </Typography>\r\n                <Typography\r\n                  style={{ paddingTop: \"64px\" }}\r\n                  variant={\"h1\"}\r\n                  align=\"center\"\r\n                >\r\n                  {`${timeLeft}`}\r\n                </Typography>\r\n              </React.Fragment>\r\n            ) : null}\r\n          </Grid>\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      displayComponent = (\r\n        <React.Fragment>\r\n          <Grid container direction=\"column\">\r\n            <Typography variant=\"h3\" align=\"center\" className={classes.title}>\r\n              Winner\r\n            </Typography>\r\n            <React.Fragment>\r\n              <Typography align=\"center\">\r\n                Who gave the most authentic, truthful and potentially revealing\r\n                answer?\r\n              </Typography>\r\n\r\n              <Grid item container direction=\"column\">\r\n                {involvedPlayers.map((player: PlayerInfo, index: number) => {\r\n                  const color = index ? \"blue\" : \"red\";\r\n                  return (\r\n                    <Grid className={classes.choiceButton} item key={index}>\r\n                      <StyledButton\r\n                        color={color}\r\n                        fullWidth\r\n                        disabled={hasVotedForWinner}\r\n                        onClick={() => choseWinner(player)}\r\n                      >{`${player.name}'s Answer`}</StyledButton>\r\n                    </Grid>\r\n                  );\r\n                })}\r\n              </Grid>\r\n            </React.Fragment>\r\n            {!hasVotedForWinner ? null : (\r\n              <React.Fragment>\r\n                <Typography align=\"center\" style={{ paddingTop: \"32px\" }}>\r\n                  {`You can also award points to answers you liked`}\r\n                </Typography>\r\n                <Grid item container direction=\"column\">\r\n                  {involvedPlayers.map((player: PlayerInfo, index: number) => {\r\n                    const color = index ? \"blue\" : \"red\";\r\n                    const hasLiked =\r\n                      hasLikedPlayers.findIndex((e) => e === index) > -1 ||\r\n                      (playersWeHaveLiked &&\r\n                        playersWeHaveLiked.findIndex((e) => e === player.name) >\r\n                          -1);\r\n                    let buttonText = `👍 Like ${player.name}'s answer`;\r\n                    if (hasLiked) {\r\n                      buttonText = `You already liked ${player.name}'s answer`;\r\n                    }\r\n                    if (player.name === localPlayer.name) {\r\n                      return null;\r\n                    }\r\n                    return (\r\n                      <Grid className={classes.choiceButton} item key={index}>\r\n                        <StyledButton\r\n                          color={color}\r\n                          fullWidth\r\n                          disabled={hasLiked}\r\n                          onClick={() => likePlayerAnswer(player, index)}\r\n                        >\r\n                          {buttonText}\r\n                        </StyledButton>\r\n                      </Grid>\r\n                    );\r\n                  })}\r\n                </Grid>\r\n              </React.Fragment>\r\n            )}\r\n\r\n            {currentGame.winnerChosen && timerSet ? (\r\n              <React.Fragment>\r\n                <Typography style={{ paddingTop: \"32px\" }} align=\"center\">\r\n                  {`Next Round in`}\r\n                </Typography>\r\n                <Typography\r\n                  style={{ paddingTop: \"64px\" }}\r\n                  variant={\"h1\"}\r\n                  align=\"center\"\r\n                >\r\n                  {`${timeLeft}`}\r\n                </Typography>\r\n              </React.Fragment>\r\n            ) : null}\r\n          </Grid>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  } else {\r\n    displayComponent = (\r\n      <React.Fragment>\r\n        <Grid container direction=\"column\">\r\n          <Typography variant=\"h3\" align=\"center\" className={classes.title}>\r\n            Winner\r\n          </Typography>\r\n          <Typography align=\"center\">\r\n            {`${dealer.name} is deciding who the winner is...`}\r\n          </Typography>\r\n          <Typography align=\"center\">\r\n            {`But you can award points to answers you liked`}\r\n          </Typography>\r\n          <Grid item container direction=\"column\">\r\n            {involvedPlayers.map((player: PlayerInfo, index: number) => {\r\n              const color = index ? \"blue\" : \"red\";\r\n              const hasLiked =\r\n                hasLikedPlayers.findIndex((e) => e === index) > -1 ||\r\n                (playersWeHaveLiked &&\r\n                  playersWeHaveLiked.findIndex((e) => e === player.name) > -1);\r\n              let buttonText = `👍 Like ${player.name}'s answer`;\r\n              if (hasLiked) {\r\n                buttonText = `You already liked ${player.name}'s answer`;\r\n              }\r\n              if (player.name === localPlayer.name) {\r\n                return null;\r\n              }\r\n              return (\r\n                <Grid className={classes.choiceButton} item key={index}>\r\n                  <StyledButton\r\n                    color={color}\r\n                    fullWidth\r\n                    disabled={hasLiked}\r\n                    onClick={() => likePlayerAnswer(player, index)}\r\n                  >\r\n                    {buttonText}\r\n                  </StyledButton>\r\n                </Grid>\r\n              );\r\n            })}\r\n          </Grid>\r\n          {currentGame.winnerChosen && timerSet ? (\r\n            <React.Fragment>\r\n              <Typography style={{ paddingTop: \"32px\" }} align=\"center\">\r\n                {`Next Round in`}\r\n              </Typography>\r\n              <Typography\r\n                style={{ paddingTop: \"64px\" }}\r\n                variant={\"h1\"}\r\n                align=\"center\"\r\n              >\r\n                {`${timeLeft}`}\r\n              </Typography>\r\n            </React.Fragment>\r\n          ) : null}\r\n        </Grid>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  return <React.Fragment>{displayComponent}</React.Fragment>;\r\n};\r\n","E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\dealerChoosing.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\elements\\askingQuestions.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\usePlayerList.tsx",[],"E:\\truthordrink\\tod-react\\src\\pages\\HowToPlay.tsx",[],"E:\\truthordrink\\tod-react\\src\\hooks\\useDuoGameState.tsx",["170"],"import React from \"react\";\r\nimport { CouldError, getLogger, Maybe } from \"../util\";\r\n\r\nimport {\r\n  ChoseQuestionDto,\r\n  CompleteDuoGameStateDto,\r\n  CompleteGameStateDto,\r\n  CreatedDto,\r\n  CreateDto,\r\n  DuoToDGameState,\r\n  JoinDto,\r\n  JoinedDto,\r\n  LeaveGameDto,\r\n  PlayerAnsweredDto,\r\n  PlayerInfo,\r\n  PlayerStartNextRound\r\n} from \"../shared\";\r\nimport { useSocket } from \"./useSocket\";\r\n\r\n// export * from \"./useGameStateHelpers\";\r\n\r\nconst logger = getLogger(\"hooks:useDuoGameState\");\r\n\r\nexport interface DuoGameState extends DuoToDGameState {\r\n  isOwner: boolean;\r\n}\r\n\r\nexport interface DuoGameStateContext {\r\n  currentGame: Maybe<DuoGameState>;\r\n  playerInfo: Maybe<PlayerInfo>;\r\n  createGame: (player: PlayerInfo, decks: string[]) => Promise<string>;\r\n  joinGame: (\r\n    player: PlayerInfo,\r\n    gameCode: string\r\n  ) => Promise<CouldError<boolean>>;\r\n  leaveGame: () => Promise<void>;\r\n  startGame: () => void;\r\n  choseQuestion: (index: number) => Promise<void>;\r\n  playerAnsweredQuestion: (didAnswer: boolean, player: PlayerInfo) => Promise<void>;\r\n  startNewRound: () => Promise<void>;\r\n}\r\n\r\nconst gameStateContext = React.createContext<Maybe<DuoGameStateContext>>(null);\r\n\r\nexport const useDuoGameState = () => {\r\n  const context = React.useContext(gameStateContext);\r\n  if (!context) {\r\n    throw Error(\"Game State Not ready\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const useCurrentDuoGameState = () => {\r\n  const context = React.useContext(gameStateContext);\r\n  if (!context || !context.currentGame) {\r\n    throw Error(\"Game Session Not ready\");\r\n  }\r\n  return context.currentGame;\r\n};\r\n\r\nexport const useRawDuoGameState = () => {\r\n  const context = React.useContext(gameStateContext);\r\n  return context;\r\n};\r\n\r\nexport const DuoGameStateContextProvider: React.FC = (props) => {\r\n  const gameSocket = useSocket();\r\n  const [currentGameState, setCurrentGameState] = React.useState<Maybe<DuoGameState>>(null);\r\n  const [playerInfo, setPlayerInfo] = React.useState<Maybe<PlayerInfo>>(null);\r\n\r\n  const updateGameState = (data: CompleteDuoGameStateDto) => {\r\n    setCurrentGameState({\r\n      ...data,\r\n      isOwner: data.owner === gameSocket.id,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    gameSocket.on(\"connect\", () => {\r\n      logger.debug(\"client connected\");\r\n    });\r\n  \r\n    gameSocket.on(\"completeGameState\", (data: CompleteGameStateDto) => {\r\n  \r\n      logger.log(`Received full state for ${data.gameCode}`);\r\n      logger.debug(data);\r\n  \r\n      if (currentGameState && data.gameCode !== currentGameState.gameCode) {\r\n        logger.warn(\r\n          `Received a game state for a game we aren't in? ${currentGameState.gameCode} vs received ${data.gameCode}`\r\n        );\r\n      }\r\n  \r\n      updateGameState(data);\r\n    });\r\n  }, [])\r\n\r\n  \r\n\r\n  const getSocket = async () => {\r\n    return gameSocket;\r\n  };\r\n\r\n  const joinGame = async (player: PlayerInfo, gameCode: string) => {\r\n    const socket = await getSocket();\r\n    const dto: JoinDto = {\r\n      player,\r\n      gameCode,\r\n    };\r\n\r\n    socket.emit(\"join\", dto);\r\n\r\n    return new Promise<CouldError<boolean>>((resolve) => {\r\n      socket.once(\"joined\", (data: JoinedDto) => {\r\n        logger.log(\r\n          `Was ${data.success ? null : \"not\"} successful joining ${gameCode}`\r\n        );\r\n\r\n        if (data.success && data.state) {\r\n          setPlayerInfo(player);\r\n          updateGameState(data.state);\r\n        }\r\n\r\n        resolve({\r\n          value: data.success,\r\n          error: data.error,\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  const createGame = async (player: PlayerInfo, decks: string[]) => {\r\n    logger.log(`Creating game for ${player.name}`);\r\n\r\n    const socket = await getSocket();\r\n    const dto: CreateDto = {\r\n      creator: player,\r\n      decks\r\n    };\r\n    socket.emit(\"create\", dto);\r\n\r\n    return new Promise<string>((resolve) => {\r\n      socket.once(\"created\", (data: CreatedDto) => {\r\n        logger.log(`Server created our game with code: ${data.gameCode}`);\r\n        setPlayerInfo(player);\r\n        updateGameState(data);\r\n\r\n        resolve(data.gameCode);\r\n      });\r\n    });\r\n  };\r\n\r\n  const leaveGame = async () => {\r\n    if (!currentGameState || !playerInfo) {\r\n      return;\r\n    }\r\n    \r\n    const socket = await getSocket();\r\n    socket.emit('leaveGame', {} as LeaveGameDto);\r\n\r\n    setPlayerInfo(null);\r\n    setCurrentGameState(null);\r\n  }\r\n\r\n  const startGame = async () => {\r\n    if (!currentGameState || !playerInfo) {\r\n      return;\r\n    }\r\n\r\n    const socket = await getSocket();\r\n    socket.emit('startGame');\r\n  }\r\n\r\n  const choseQuestion = async (index: number) => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: ChoseQuestionDto = {\r\n      index\r\n    }\r\n    socket.emit('choseQuestion', dto);\r\n  }\r\n\r\n  const playerAnsweredQuestion = async (didAnswer: boolean, player: PlayerInfo) => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: PlayerAnsweredDto = {\r\n      didAnswer,\r\n      player\r\n    }\r\n    socket.emit(\"playerAnswered\", dto);\r\n  }\r\n\r\n  const startNewRound = async () => {\r\n    const socket = await getSocket();\r\n\r\n    const dto: PlayerStartNextRound = {\r\n    }\r\n    socket.emit('playerStartNextRound', dto);\r\n  }\r\n\r\n  \r\n  const memoValue = React.useMemo(\r\n    () => ({\r\n      currentGame: currentGameState,\r\n      playerInfo: playerInfo,\r\n      joinGame,\r\n      createGame,\r\n      leaveGame,\r\n      startGame,\r\n      choseQuestion,\r\n      playerAnsweredQuestion,\r\n      startNewRound,\r\n    }),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [currentGameState]\r\n  );\r\n\r\n  let contextValue: Maybe<DuoGameStateContext> = memoValue;\r\n\r\n\r\n  return (\r\n    <gameStateContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </gameStateContext.Provider>\r\n  );\r\n};\r\n","E:\\truthordrink\\tod-react\\src\\pages\\DuoGameRoom.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\duo\\duoMain.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\duo\\duoRound.tsx",[],"E:\\truthordrink\\tod-react\\src\\components\\game\\duo\\duoLobby.tsx",[],{"ruleId":"171","replacedBy":"172"},{"ruleId":"173","replacedBy":"174"},{"ruleId":"175","severity":1,"message":"176","line":101,"column":6,"nodeType":"177","endLine":101,"endColumn":8,"suggestions":"178"},{"ruleId":"175","severity":1,"message":"179","line":27,"column":6,"nodeType":"177","endLine":27,"endColumn":23,"suggestions":"180"},{"ruleId":"175","severity":1,"message":"181","line":16,"column":6,"nodeType":"177","endLine":16,"endColumn":8,"suggestions":"182"},{"ruleId":"175","severity":1,"message":"183","line":34,"column":9,"nodeType":"184","endLine":51,"endColumn":4},{"ruleId":"175","severity":1,"message":"185","line":32,"column":9,"nodeType":"184","endLine":49,"endColumn":4},{"ruleId":"175","severity":1,"message":"186","line":66,"column":6,"nodeType":"177","endLine":66,"endColumn":28,"suggestions":"187"},{"ruleId":"175","severity":1,"message":"176","line":96,"column":6,"nodeType":"177","endLine":96,"endColumn":8,"suggestions":"188"},"no-native-reassign",["189"],"no-negated-in-lhs",["190"],"react-hooks/exhaustive-deps","React Hook React.useEffect has missing dependencies: 'currentGameState', 'gameSocket', and 'updateGameState'. Either include them or remove the dependency array.","ArrayExpression",["191"],"React Hook React.useEffect has a missing dependency: 'gameCodeInput.code.length'. Either include it or remove the dependency array.",["192"],"React Hook React.useMemo has a missing dependency: 'host'. Either include it or remove the dependency array.",["193"],"The 'playerInputComponent' JSX element makes the dependencies of useMemo Hook (at line 62) change on every render. Move it inside the useMemo callback. Alternatively, wrap the initialization of 'playerInputComponent' in its own useMemo() Hook.","VariableDeclarator","The 'gameCodeInputComponent' JSX element makes the dependencies of useMemo Hook (at line 57) change on every render. Move it inside the useMemo callback. Alternatively, wrap the initialization of 'gameCodeInputComponent' in its own useMemo() Hook.","React Hook React.useEffect has a missing dependency: 'intervalId'. Either include it or remove the dependency array.",["194"],["195"],"no-global-assign","no-unsafe-negation",{"desc":"196","fix":"197"},{"desc":"198","fix":"199"},{"desc":"200","fix":"201"},{"desc":"202","fix":"203"},{"desc":"196","fix":"204"},"Update the dependencies array to be: [currentGameState, gameSocket, updateGameState]",{"range":"205","text":"206"},"Update the dependencies array to be: [gameCodeInput.code.length, playerDataInput]",{"range":"207","text":"208"},"Update the dependencies array to be: [host]",{"range":"209","text":"210"},"Update the dependencies array to be: [currentGame.timerEnd, intervalId]",{"range":"211","text":"212"},{"range":"213","text":"206"},[2911,2913],"[currentGameState, gameSocket, updateGameState]",[1148,1165],"[gameCodeInput.code.length, playerDataInput]",[391,393],"[host]",[1877,1899],"[currentGame.timerEnd, intervalId]",[2746,2748]]